(this["webpackJsonpsathixa-react"]=this["webpackJsonpsathixa-react"]||[]).push([[11],{671:function(e,a,t){"use strict";t.r(a);var l=t(56),n=t(33),c=t(497),i=t(21),r=t(0),o=(t(561),t(31)),s=t(137),d=t(51),u=t(35),j=t(97),m=t(171),b=t(478),v=t(690),h=t(202),p=t(57),O=t(203),f=t(40),x=t(47),g=t(477),N=t(65),_=t(1);new RegExp("\\biPhone\\b|\\biPod\\b","i").test(window.navigator.userAgent);var y=Object(_.jsx)(N.a,{style:{fontSize:18,color:"#fff"},spin:!0}),w=m.a.Content;a.default=function(){var e,a,t,N,S,k,F,C,E,P,I,V,R,q=Object(r.useState)(2),A=Object(i.a)(q,2),D=A[0],L=A[1],T=Object(r.useState)(),U=Object(i.a)(T,2),W=(U[0],U[1]),z=Object(r.useState)({files:[]}),B=Object(i.a)(z,2),H=B[0],J=B[1],M=Object(r.useState)(!1),K=Object(i.a)(M,2),G=K[0],Q=K[1],X=Object(r.useState)(!1),Y=Object(i.a)(X,2),Z=Y[0],$=Y[1],ee=Object(r.useState)([]),ae=Object(i.a)(ee,2),te=ae[0],le=ae[1],ne=Object(r.useState)(null),ce=Object(i.a)(ne,2),ie=ce[0],re=ce[1],oe=Object(o.g)(),se=Object(r.useState)(!1),de=Object(i.a)(se,2),ue=(de[0],de[1],Object(u.c)(d.f)),je=Object(u.b)(),me=Object(u.c)(d.c),be=function(e){var a,t,c=null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.name,i=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value;je(Object(d.j)(Object(n.a)(Object(n.a)({},ue),{},{value:Object(n.a)(Object(n.a)({},null===ue||void 0===ue?void 0:ue.value),{},Object(l.a)({},c,i))})))};Object(r.useState)((function(){me.length||Object(s.a)().then((function(e){je(Object(d.a)(Array.from(e.data)))}))}),[me]);return Object(_.jsxs)(m.a,{children:[Object(_.jsx)(b.a,{style:{position:"fixed",zIndex:1,width:"100%"},className:"site-page-header bg-red ",onBack:function(){return oe.push("dashboard")},title:"Send Package"}),Object(_.jsx)(w,{className:"site-layout",style:{padding:"0 14px",marginTop:67},children:Object(_.jsx)("section",{className:"my-3",id:"sendPackageModal",children:Object(_.jsx)("div",{children:Object(_.jsxs)("form",{onSubmit:function(e){var a,t,l,n,c,i;e.preventDefault(),$(!0);var r,o,s=new FormData(e.target);(Object.entries(null===ue||void 0===ue||null===(a=ue.value)||void 0===a?void 0:a.receiver_address).map((function(e){s.append("location[".concat(e[0],"]"),e[1])})),"undefined"!==typeof(null===ue||void 0===ue||null===(t=ue.value)||void 0===t?void 0:t.files)&&0!=(null===ue||void 0===ue||null===(l=ue.value)||void 0===l||null===(n=l.files)||void 0===n?void 0:n.length))?null===ue||void 0===ue||null===(r=ue.value)||void 0===r||r.files.map((function(e){s.append("image[]",Object(x.a)(e,"image"+Math.random()))})):H.files.forEach((function(e,a){s.append("image[]",e)}));null!==(null===ue||void 0===ue||null===(c=ue.value)||void 0===c?void 0:c.weight)&&"undefined"!==typeof(null===ue||void 0===ue||null===(i=ue.value)||void 0===i?void 0:i.weight)?s.append("weight",null===ue||void 0===ue||null===(o=ue.value)||void 0===o?void 0:o.weight):s.append("weight",D);Object(j.o)(s).then((function(e){$(!1),document.getElementById("form").reset(),le([]),oe.push("/package"),f.i.success(e.data.message,2),je(Object(d.i)([])),je(Object(d.j)([]))})).catch((function(e){$(!1),le(e.data.errors)}))},id:"form",children:[Object(_.jsxs)("div",{className:"form-group",children:[Object(_.jsx)("label",{htmlFor:"exampleFormControlSelect1",children:"What are my sending ?"}),Object(_.jsxs)("select",{className:"form-control",defaultValue:null===ue||void 0===ue||null===(e=ue.value)||void 0===e?void 0:e.category_id,onChange:be,name:"category_id",id:"exampleFormControlSelect1",required:!0,children:[Object(_.jsx)("option",{defaultChecked:!0,disabled:!0,children:"Select Category"}),Array.from(me).map((function(e,a){return Object(_.jsx)("option",{value:e.id,children:e.title},a)}))]}),te.category_id?Object(_.jsx)("div",{className:"mt-1",children:Object(_.jsxs)("small",{className:"text-danger font-11",children:[te.category_id," "]})}):""]}),Object(_.jsxs)("div",{className:"form-group",children:[Object(_.jsx)("label",{htmlFor:"exampleFormControlSelect1",children:"Number of Packages?"}),Object(_.jsx)("select",{className:"form-control",defaultValue:null===ue||void 0===ue||null===(a=ue.value)||void 0===a?void 0:a.no_of_package,onChange:be,name:"no_of_package",id:"exampleFormControlSelect1",required:!0,children:[1,2,3,4,5].map((function(e,a){return Object(_.jsx)("option",{value:e,children:e},a)}))}),te.no_of_package?Object(_.jsx)("div",{className:"mt-1",children:Object(_.jsxs)("small",{className:"text-danger font-11",children:[te.no_of_package," "]})}):""]}),Object(_.jsxs)("div",{className:"form-group",children:[Object(_.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Enter receiver's name"}),Object(_.jsx)("input",{type:"text",defaultValue:null===ue||void 0===ue||null===(t=ue.value)||void 0===t?void 0:t.receiver_name,className:"form-control",onChange:be,name:"receiver_name",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Shivam Rijal",required:!0}),te.receiver_name?Object(_.jsx)("div",{className:"mt-1",children:Object(_.jsxs)("small",{className:"text-danger font-11",children:[te.receiver_name," "]})}):""]}),Object(_.jsxs)("div",{className:"form-group",children:[Object(_.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Receiver's address"}),Object(_.jsx)("input",{type:"text",className:"form-control",name:"receiver_address",id:"exampleInputEmail1","aria-describedby":"emailHelp",defaultValue:null===ue||void 0===ue||null===(N=ue.value)||void 0===N||null===(S=N.receiver_address)||void 0===S?void 0:S.whole_address,onFocus:function(){var e=H.files.map((function(e){return new Promise((function(a,t){var l;(l=e,new Promise((function(e,a){var t=new FileReader;t.readAsDataURL(l),t.onload=function(){return e(t.result)},t.onerror=function(e){return a(e)}}))).then((function(e){a(e)}))}))}));Promise.all(e).then((function(e){je(Object(d.j)(Object(n.a)(Object(n.a)({},ue),{},{value:Object(n.a)(Object(n.a)({},null===ue||void 0===ue?void 0:ue.value),{},Object(l.a)({},"files",e))})))})),oe.push("/map-search?from=sendpackage")},placeholder:"Shantinagar, Kathmandu",required:!0}),te.receiver_address?Object(_.jsx)("div",{className:"mt-1",children:Object(_.jsxs)("small",{className:"text-danger font-11 lh-1",children:[" ",te.receiver_address," "]})}):""]}),Object(_.jsxs)("div",{className:"form-group",children:[Object(_.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Phone number"}),Object(_.jsx)(f.c,{type:"phone",error:null===ie||void 0===ie?void 0:ie.hasError,placeholder:"977",onChange:function(e){W(e),je(Object(d.j)(Object(n.a)(Object(n.a)({},ue),{},{value:Object(n.a)(Object(n.a)({},null===ue||void 0===ue?void 0:ue.value),{},Object(l.a)({},"phone",e))}))),e.replace(/\s/g,"").length<10?re({hasError:!0}):re({hasError:!1})},clear:!0,minLength:8,defaultValue:null===ue||void 0===ue||null===(k=ue.value)||void 0===k?void 0:k.phone,name:"receiver_phone",className:"form-control",onErrorClick:function(){ie&&f.i.info("Please enter 11 digits")},required:!0}),te.receiver_phone?Object(_.jsx)("div",{className:"mt-1",children:Object(_.jsxs)("small",{className:"text-danger font-11",children:[te.receiver_phone," "]})}):""]}),Object(_.jsxs)("div",{className:"form-group",children:[Object(_.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Product Price"}),Object(_.jsx)("input",{type:"number",placeholder:"Price",defaultValue:null===ue||void 0===ue||null===(F=ue.value)||void 0===F?void 0:F.product_price,name:"product_price",className:"form-control",onChange:be,required:!0}),te.product_price?Object(_.jsx)("div",{className:"mt-1",children:Object(_.jsxs)("small",{className:"text-danger font-11",children:[te.product_price," "]})}):""]}),Object(_.jsxs)("div",{className:"form-group",children:[Object(_.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Weights in kg"}),Object(_.jsx)(v.a,{type:"primary",max:10,min:1,defaultValue:(null===ue||void 0===ue||null===(C=ue.value)||void 0===C?void 0:C.weight)||2,className:"m-0",onChange:function(e){L(parseInt(e)),je(Object(d.j)(Object(n.a)(Object(n.a)({},ue),{},{value:Object(n.a)(Object(n.a)({},null===ue||void 0===ue?void 0:ue.value),{},Object(l.a)({},"weight",e))})))}}),te.weight?Object(_.jsx)("div",{className:"mt-1",children:Object(_.jsxs)("small",{className:"text-danger font-11",children:[te.weight," "]})}):""]}),Object(_.jsxs)("div",{className:"form-group",children:[Object(_.jsx)("label",{htmlFor:"",onClick:function(e){return Q(!G)},children:"Additional Info"}),Object(_.jsx)("textarea",(P={name:"",className:"form-control",cols:"30",onChange:be},Object(l.a)(P,"name","special_instruction"),Object(l.a)(P,"defaultValue",null===ue||void 0===ue||null===(E=ue.value)||void 0===E?void 0:E.special_instruction),Object(l.a)(P,"placeholder","Write a messages..."),P))]}),Object(_.jsxs)("div",{className:"form-group",children:[Object(_.jsx)(h.a,{listType:"picture",multiple:!0,beforeUpload:function(e,a){return J((function(a){return{files:[].concat(Object(c.a)(a.files),[e])}})),!1},onRemove:function(e){var a=H.files.filter((function(a){if(e.uid!==a.uid)return a}));J({files:a})},accept:"image/*",FileList:[],children:Object(_.jsx)(p.a,{icon:Object(_.jsx)(O.a,{}),className:"btn-none",children:"Upload Image"})}),"undefined"!==typeof(null===ue||void 0===ue||null===(I=ue.value)||void 0===I?void 0:I.files)&&(null===ue||void 0===ue||null===(V=ue.value)||void 0===V?void 0:V.files.length)>0?Object(_.jsxs)("small",{className:"text-warning",children:["* ",null===ue||void 0===ue||null===(R=ue.value)||void 0===R?void 0:R.files.length," file stored "]}):""]}),Object(_.jsx)("div",{className:"form-group",children:Object(_.jsx)("p",{htmlFor:"",className:"text-black font-weight-bold",children:"Total Amount : Rs.200"})}),Object(_.jsx)("div",{className:"btn-container",children:Object(_.jsxs)("button",{type:"submit",className:"btn btn-primary w-100",disabled:Z,children:[" ",Z?Object(_.jsx)(g.a,{indicator:y}):"Submit"," "]})})]})})})})]})}}}]);
//# sourceMappingURL=11.819aa9f1.chunk.js.map