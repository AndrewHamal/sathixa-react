{"version":3,"sources":["../node_modules/antd/lib/_util/responsiveObserve.js","../node_modules/antd/lib/avatar/avatar.js","../node_modules/rc-util/lib/ref.js","../node_modules/antd/lib/grid/hooks/useBreakpoint.js","../node_modules/antd/lib/avatar/SizeContext.js","../node_modules/@ant-design/icons-svg/es/asn/SendOutlined.js","../node_modules/@ant-design/icons/es/icons/SendOutlined.js","pages/Chat.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","responsiveMap","responsiveArray","_defineProperty2","_extends3","xs","sm","md","lg","xl","xxl","subscribers","Map","subUid","screens","_default","matchHandlers","dispatch","pointMap","forEach","func","size","subscribe","this","register","set","unsubscribe","token","unregister","_this","keys","screen","matchMediaQuery","handler","mql","removeListener","listener","clear","_this2","_ref","matches","window","matchMedia","addListener","_typeof3","_extends2","_typeof2","_slicedToArray2","React","obj","nodeInterop","__esModule","cache","_getRequireWildcardCache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","_interopRequireWildcard","_classnames","_rcResizeObserver","_configProvider","_devWarning","_responsiveObserve","_useBreakpoint","_SizeContext","WeakMap","cacheBabelInterop","cacheNodeInterop","__rest","s","e","t","p","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","InternalAvatar","props","ref","_classNames","_classNames2","groupSize","useContext","_React$useState","useState","_React$useState2","scale","setScale","_React$useState3","_React$useState4","mounted","setMounted","_React$useState5","_React$useState6","isImgExist","setIsImgExist","avatarNodeRef","useRef","avatarChildrenRef","avatarNodeMergeRef","composeRef","getPrefixCls","ConfigContext","setScaleParam","current","childrenWidth","offsetWidth","nodeWidth","_props$gap","gap","useEffect","src","customizePrefixCls","prefixCls","shape","customSize","srcSet","icon","className","alt","draggable","children","others","responsiveSizeStyle","useMemo","currentBreakpoint","find","currentSize","width","height","lineHeight","concat","fontSize","childrenToRender","sizeCls","hasImageElement","isValidElement","classString","sizeStyle","createElement","onError","undefined","transformString","childrenStyle","msTransform","WebkitTransform","transform","sizeChildrenStyle","onResize","node","style","opacity","Avatar","forwardRef","displayName","defaultProps","fillRef","_len","arguments","refs","Array","_key","supportRef","nodeOrComponent","_type$prototype","_nodeOrComponent$prot","type","_reactIs","isMemo","render","default","_react","_useState","_useState2","setScreens","supportScreens","_typeof","SizeContextProvider","SizeContext","createContext","Consumer","originSize","Provider","SendOutlined","AntdIcon","assign","SendOutlinedSvg","Content","Layout","Chat","history","useHistory","id","useParams","messagesEnd","messagesEndVendor","isVendor","useSelector","vendorAuth","isRider","isAuthRider","profileRider","riderUser","profileVendor","getUser","messages","setMessages","loader","setLoader","isTyping","setTyping","send","setSend","antIcon","spin","options","broadcaster","process","cluster","wsHost","wsPort","forceTLS","disableStats","enabledTransports","authorizer","channel","authorize","socketId","callback","axios","method","url","headers","Authorization","localStorage","getItem","data","socket_id","channel_name","name","then","response","catch","error","echo","Echo","scrollToBottom","scrollIntoView","showMessage","getChat","res","seenChat","getChatRider","seenChatRider","join","listen","event","listenForWhisper","padding","marginTop","active","position","zIndex","title","onBack","goBack","paddingTop","paddingBottom","to","first_name","charAt","last_name","location","whole_address","phone","map","vendor_id","message","rider_id","image","Empty","PRESENTED_IMAGE_SIMPLE","float","indicator","onSubmit","preventDefault","formData","FormData","target","append","storeChat","document","querySelector","reset","storeChatRider","rows","placeholder","onKeyUp","setTimeout","whisper","userId","typing","required","htmlType"],"mappings":"sHAEA,IAAIA,EAAyBC,EAAQ,KAErCC,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAO,QAAcA,EAAQE,cAAgBF,EAAQG,qBAAkB,EAEvE,IAAIC,EAAmBR,EAAuBC,EAAQ,MAElDQ,EAAYT,EAAuBC,EAAQ,MAG/CG,EAAQG,gBADc,CAAC,MAAO,KAAM,KAAM,KAAM,KAAM,MAEtD,IAAID,EAAgB,CAClBI,GAAI,qBACJC,GAAI,qBACJC,GAAI,qBACJC,GAAI,qBACJC,GAAI,sBACJC,IAAK,uBAEPX,EAAQE,cAAgBA,EACxB,IAAIU,EAAc,IAAIC,IAClBC,GAAU,EACVC,EAAU,GAqDVC,EApDoB,CACtBC,cAAe,GACfC,SAAU,SAAkBC,GAK1B,OAJAJ,EAAUI,EACVP,EAAYQ,SAAQ,SAAUC,GAC5B,OAAOA,EAAKN,MAEPH,EAAYU,MAAQ,GAE7BC,UAAW,SAAmBF,GAK5B,OAJKT,EAAYU,MAAME,KAAKC,WAC5BX,GAAU,EACVF,EAAYc,IAAIZ,EAAQO,GACxBA,EAAKN,GACED,GAETa,YAAa,SAAqBC,GAChChB,EAAW,OAAWgB,GACjBhB,EAAYU,MAAME,KAAKK,cAE9BA,WAAY,WACV,IAAIC,EAAQN,KAEZ1B,OAAOiC,KAAK7B,GAAekB,SAAQ,SAAUY,GAC3C,IAAIC,EAAkB/B,EAAc8B,GAChCE,EAAUJ,EAAMb,cAAcgB,GACtB,OAAZC,QAAgC,IAAZA,GAA8BA,EAAQC,IAAIC,eAA2B,OAAZF,QAAgC,IAAZA,OAAqB,EAASA,EAAQG,aAEzIzB,EAAY0B,SAEdb,SAAU,WACR,IAAIc,EAASf,KAEb1B,OAAOiC,KAAK7B,GAAekB,SAAQ,SAAUY,GAC3C,IAAIC,EAAkB/B,EAAc8B,GAEhCK,EAAW,SAAkBG,GAC/B,IAAIC,EAAUD,EAAKC,QAEnBF,EAAOrB,UAAS,EAAIb,EAAS,UAAa,EAAIA,EAAS,SAAa,GAAIU,IAAU,EAAIX,EAAgB,SAAa,GAAI4B,EAAQS,MAG7HN,EAAMO,OAAOC,WAAWV,GAC5BE,EAAIS,YAAYP,GAChBE,EAAOtB,cAAcgB,GAAmB,CACtCE,IAAKA,EACLE,SAAUA,GAEZA,EAASF,QAKfnC,EAAO,QAAcgB,G,iCC9ErB,IAAIpB,EAAyBC,EAAQ,KAEjCgD,EAAWhD,EAAQ,KAEvBC,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAO,aAAc,EAErB,IAAI8C,EAAYlD,EAAuBC,EAAQ,MAE3CO,EAAmBR,EAAuBC,EAAQ,MAElDkD,EAAWnD,EAAuBC,EAAQ,MAE1CmD,EAAkBpD,EAAuBC,EAAQ,MAEjDoD,EAoBJ,SAAiCC,EAAKC,GAAe,IAAKA,GAAeD,GAAOA,EAAIE,WAAc,OAAOF,EAAO,GAAY,OAARA,GAAkC,WAAlBL,EAASK,IAAoC,oBAARA,EAAsB,MAAO,CAAE,QAAWA,GAAS,IAAIG,EAAQC,EAAyBH,GAAc,GAAIE,GAASA,EAAME,IAAIL,GAAQ,OAAOG,EAAMG,IAAIN,GAAQ,IAAIO,EAAS,GAAQC,EAAwB5D,OAAOC,gBAAkBD,OAAO6D,yBAA0B,IAAK,IAAIC,KAAOV,EAAO,GAAY,YAARU,GAAqB9D,OAAO+D,UAAUC,eAAeC,KAAKb,EAAKU,GAAM,CAAE,IAAII,EAAON,EAAwB5D,OAAO6D,yBAAyBT,EAAKU,GAAO,KAAUI,IAASA,EAAKR,KAAOQ,EAAKtC,KAAQ5B,OAAOC,eAAe0D,EAAQG,EAAKI,GAAgBP,EAAOG,GAAOV,EAAIU,GAAYH,EAAM,QAAcP,EAASG,GAASA,EAAM3B,IAAIwB,EAAKO,GAAW,OAAOA,EApBvxBQ,CAAwBpE,EAAQ,IAExCqE,EAActE,EAAuBC,EAAQ,IAE7CsE,EAAoBvE,EAAuBC,EAAQ,KAEnD2C,EAAO3C,EAAQ,KAEfuE,EAAkBvE,EAAQ,KAE1BwE,EAAczE,EAAuBC,EAAQ,MAE7CyE,EAAqBzE,EAAQ,KAE7B0E,EAAiB3E,EAAuBC,EAAQ,MAEhD2E,EAAe5E,EAAuBC,EAAQ,MAElD,SAASyD,EAAyBH,GAAe,GAAuB,oBAAZsB,QAAwB,OAAO,KAAM,IAAIC,EAAoB,IAAID,QAAeE,EAAmB,IAAIF,QAAW,OAAQnB,EAA2B,SAAkCH,GAAe,OAAOA,EAAcwB,EAAmBD,IAAsBvB,GAIhU,IAAIyB,EAAsC,SAAUC,EAAGC,GACrD,IAAIC,EAAI,GAER,IAAK,IAAIC,KAAKH,EACR/E,OAAO+D,UAAUC,eAAeC,KAAKc,EAAGG,IAAMF,EAAEG,QAAQD,GAAK,IAAGD,EAAEC,GAAKH,EAAEG,IAG/E,GAAS,MAALH,GAAqD,oBAAjC/E,OAAOoF,sBAA2C,KAAIC,EAAI,EAAb,IAAgBH,EAAIlF,OAAOoF,sBAAsBL,GAAIM,EAAIH,EAAEI,OAAQD,IAClIL,EAAEG,QAAQD,EAAEG,IAAM,GAAKrF,OAAO+D,UAAUwB,qBAAqBtB,KAAKc,EAAGG,EAAEG,MAAKJ,EAAEC,EAAEG,IAAMN,EAAEG,EAAEG,KAEhG,OAAOJ,GAGLO,EAAiB,SAAwBC,EAAOC,GAClD,IAAIC,EAAaC,EAEbC,EAAY1C,EAAM2C,WAAWpB,EAAY,SAEzCqB,EAAkB5C,EAAM6C,SAAS,GACjCC,GAAmB,EAAI/C,EAAe,SAAa6C,EAAiB,GACpEG,EAAQD,EAAiB,GACzBE,EAAWF,EAAiB,GAE5BG,EAAmBjD,EAAM6C,UAAS,GAClCK,GAAmB,EAAInD,EAAe,SAAakD,EAAkB,GACrEE,EAAUD,EAAiB,GAC3BE,EAAaF,EAAiB,GAE9BG,EAAmBrD,EAAM6C,UAAS,GAClCS,GAAmB,EAAIvD,EAAe,SAAasD,EAAkB,GACrEE,EAAaD,EAAiB,GAC9BE,EAAgBF,EAAiB,GAEjCG,EAAgBzD,EAAM0D,SACtBC,EAAoB3D,EAAM0D,SAC1BE,GAAqB,EAAIrE,EAAKsE,YAAYtB,EAAKkB,GAG/CK,EADoB9D,EAAM2C,WAAWxB,EAAgB4C,eACpBD,aAEjCE,EAAgB,WAClB,GAAKL,EAAkBM,SAAYR,EAAcQ,QAAjD,CAIA,IAAIC,EAAgBP,EAAkBM,QAAQE,YAE1CC,EAAYX,EAAcQ,QAAQE,YAEtC,GAAsB,IAAlBD,GAAqC,IAAdE,EAAiB,CAC1C,IAAIC,EAAa/B,EAAMgC,IACnBA,OAAqB,IAAfD,EAAwB,EAAIA,EAE5B,EAANC,EAAUF,GACZpB,EAASoB,EAAkB,EAANE,EAAUJ,GAAiBE,EAAkB,EAANE,GAAWJ,EAAgB,MAK7FlE,EAAMuE,WAAU,WACdnB,GAAW,KACV,IACHpD,EAAMuE,WAAU,WACdf,GAAc,GACdR,EAAS,KACR,CAACV,EAAMkC,MACVxE,EAAMuE,WAAU,WACdP,MACC,CAAC1B,EAAMgC,MAEV,IASIG,EAAqBnC,EAAMoC,UAC3BC,EAAQrC,EAAMqC,MACdC,EAAatC,EAAMjE,KACnBmG,EAAMlC,EAAMkC,IACZK,EAASvC,EAAMuC,OACfC,EAAOxC,EAAMwC,KACbC,EAAYzC,EAAMyC,UAClBC,EAAM1C,EAAM0C,IACZC,EAAY3C,EAAM2C,UAClBC,EAAW5C,EAAM4C,SACjBC,EAASxD,EAAOW,EAAO,CAAC,YAAa,QAAS,OAAQ,MAAO,SAAU,OAAQ,YAAa,MAAO,YAAa,aAEhHjE,EAAsB,YAAfuG,EAA2BlC,EAAYkC,EAC9C9G,GAAU,EAAIwD,EAAc,WAC5B8D,EAAsBpF,EAAMqF,SAAQ,WACtC,GAAuC,YAAnC,EAAIvF,EAAQ,SAAazB,GAC3B,MAAO,GAGT,IAAIiH,EAAoBjE,EAAmBnE,gBAAgBqI,MAAK,SAAUxG,GACxE,OAAOjB,EAAQiB,MAGbyG,EAAcnH,EAAKiH,GACvB,OAAOE,EAAc,CACnBC,MAAOD,EACPE,OAAQF,EACRG,WAAY,GAAGC,OAAOJ,EAAa,MACnCK,SAAUf,EAAOU,EAAc,EAAI,IACjC,KACH,CAAC1H,EAASO,KACb,EAAI+C,EAAW,WAA+B,kBAAT0D,GAAqBA,EAAK3C,OAAS,GAAI,SAAU,2EAA2EyD,OAAOd,EAAM,4CAC9K,IAUIgB,EAVApB,EAAYZ,EAAa,SAAUW,GACnCsB,GAAU,EAAI9E,EAAW,UAAcuB,EAAc,IAAI,EAAIrF,EAAgB,SAAaqF,EAAa,GAAGoD,OAAOlB,EAAW,OAAiB,UAATrG,IAAmB,EAAIlB,EAAgB,SAAaqF,EAAa,GAAGoD,OAAOlB,EAAW,OAAiB,UAATrG,GAAmBmE,IACrPwD,EAA+BhG,EAAMiG,eAAezB,GACpD0B,IAAc,EAAIjF,EAAW,SAAayD,EAAWqB,GAAUtD,EAAe,IAAI,EAAItF,EAAgB,SAAasF,EAAc,GAAGmD,OAAOlB,EAAW,KAAKkB,OAAOjB,KAAUA,IAAQ,EAAIxH,EAAgB,SAAasF,EAAc,GAAGmD,OAAOlB,EAAW,UAAWsB,GAAmBxB,GAAOjB,IAAa,EAAIpG,EAAgB,SAAasF,EAAc,GAAGmD,OAAOlB,EAAW,WAAYI,GAAOrC,GAAesC,GAChZoB,GAA4B,kBAAT9H,EAAoB,CACzCoH,MAAOpH,EACPqH,OAAQrH,EACRsH,WAAY,GAAGC,OAAOvH,EAAM,MAC5BwH,SAAUf,EAAOzG,EAAO,EAAI,IAC1B,GAGJ,GAAmB,kBAARmG,GAAoBjB,EAC7BuC,EAAgC9F,EAAMoG,cAAc,MAAO,CACzD5B,IAAKA,EACLS,UAAWA,EACXJ,OAAQA,EACRwB,QA1DqB,WACvB,IAAIA,EAAU/D,EAAM+D,SAGF,KAFFA,EAAUA,SAAYC,IAGpC9C,GAAc,IAsDdwB,IAAKA,SAEF,GAAIgB,EACTF,EAAmBtB,OACd,GAAIM,EACTgB,EAAmBhB,OACd,GAAI3B,GAAqB,IAAVJ,EAAa,CACjC,IAAIwD,GAAkB,SAASX,OAAO7C,EAAO,sBACzCyD,GAAgB,CAClBC,YAAaF,GACbG,gBAAiBH,GACjBI,UAAWJ,IAETK,GAAoC,kBAATvI,EAAoB,CACjDsH,WAAY,GAAGC,OAAOvH,EAAM,OAC1B,GACJyH,EAAgC9F,EAAMoG,cAAclF,EAAiB,QAAa,CAChF2F,SAAU7C,GACIhE,EAAMoG,cAAc,OAAQ,CAC1CrB,UAAW,GAAGa,OAAOlB,EAAW,WAChCnC,IAAK,SAAauE,GAChBnD,EAAkBM,QAAU6C,GAE9BC,OAAO,EAAIlH,EAAS,UAAa,EAAIA,EAAS,SAAa,GAAI+G,IAAoBJ,KAClFtB,SAEHY,EAAgC9F,EAAMoG,cAAc,OAAQ,CAC1DrB,UAAW,GAAGa,OAAOlB,EAAW,WAChCqC,MAAO,CACLC,QAAS,GAEXzE,IAAK,SAAauE,GAChBnD,EAAkBM,QAAU6C,IAE7B5B,GAOL,cAFOC,EAAOkB,eACPlB,EAAOb,IACMtE,EAAMoG,cAAc,QAAQ,EAAIvG,EAAS,SAAa,GAAIsF,EAAQ,CACpF4B,OAAO,EAAIlH,EAAS,UAAa,EAAIA,EAAS,UAAa,EAAIA,EAAS,SAAa,GAAIsG,IAAYf,GAAsBD,EAAO4B,OAClIhC,UAAWmB,GACX3D,IAAKqB,IACHkC,IAGFmB,EAAsBjH,EAAMkH,WAAW7E,GAC3C4E,EAAOE,YAAc,SACrBF,EAAOG,aAAe,CACpBzC,MAAO,SACPtG,KAAM,WAER,IAAIN,EAAWkJ,EACflK,EAAO,QAAcgB,G,iCC/NrB,IAAIpB,EAAyBC,EAAQ,KAErCC,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQsK,QAAUA,EAClBtK,EAAQ8G,WAmBR,WACE,IAAK,IAAIyD,EAAOC,UAAUpF,OAAQqF,EAAO,IAAIC,MAAMH,GAAOI,EAAO,EAAGA,EAAOJ,EAAMI,IAC/EF,EAAKE,GAAQH,UAAUG,GAGzB,OAAO,SAAUZ,GACfU,EAAKrJ,SAAQ,SAAUoE,GACrB8E,EAAQ9E,EAAKuE,QAzBnB/J,EAAQ4K,WA8BR,SAAoBC,GAClB,IAAIC,EAAiBC,EAEjBC,GAAO,EAAIC,EAASC,QAAQL,GAAmBA,EAAgBG,KAAKA,KAAOH,EAAgBG,KAE/F,GAAoB,oBAATA,KAAgE,QAAtCF,EAAkBE,EAAKnH,iBAA2C,IAApBiH,OAA6B,EAASA,EAAgBK,QACvI,OAAO,EAIT,GAA+B,oBAApBN,KAA4F,QAAvDE,EAAwBF,EAAgBhH,iBAAiD,IAA1BkH,OAAmC,EAASA,EAAsBI,QAC/K,OAAO,EAGT,OAAO,GA1CT,IAAIpI,EAAWnD,EAAuBC,EAAQ,MAE1CoL,EAAWpL,EAAQ,IAEvB,SAASyK,EAAQ9E,EAAKuE,GACD,oBAARvE,EACTA,EAAIuE,GACoC,YAA/B,EAAIhH,EAASqI,SAAS5F,IAAqBA,GAAO,YAAaA,IACxEA,EAAI0B,QAAU6C,K,iCCjBlB,IAAInK,EAAyBC,EAAQ,KAErCC,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAO,aAAc,EAErB,IAAIgD,EAAkBpD,EAAuBC,EAAQ,MAEjDwL,EAASxL,EAAQ,GAEjByE,EAAqB1E,EAAuBC,EAAQ,MAoBxD,IAAImB,EAlBJ,WACE,IAAIsK,GAAY,EAAID,EAAOvF,UAAU,IACjCyF,GAAa,EAAIvI,EAAe,SAAasI,EAAW,GACxDvK,EAAUwK,EAAW,GACrBC,EAAaD,EAAW,GAW5B,OATA,EAAIF,EAAO7D,YAAW,WACpB,IAAI5F,EAAQ0C,EAAkB,QAAY/C,WAAU,SAAUkK,GAC5DD,EAAWC,MAGb,OAAO,WACL,OAAOnH,EAAkB,QAAY3C,YAAYC,MAElD,IACIb,GAITf,EAAO,QAAcgB,G,iCChCrB,IAAI0K,EAAU7L,EAAQ,KAEtBC,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAO,QAAcA,EAAQ2L,yBAAsB,EAEnD,IAAI1I,EAIJ,SAAiCC,EAAKC,GAAe,IAAKA,GAAeD,GAAOA,EAAIE,WAAc,OAAOF,EAAO,GAAY,OAARA,GAAiC,WAAjBwI,EAAQxI,IAAoC,oBAARA,EAAsB,MAAO,CAAE,QAAWA,GAAS,IAAIG,EAAQC,EAAyBH,GAAc,GAAIE,GAASA,EAAME,IAAIL,GAAQ,OAAOG,EAAMG,IAAIN,GAAQ,IAAIO,EAAS,GAAQC,EAAwB5D,OAAOC,gBAAkBD,OAAO6D,yBAA0B,IAAK,IAAIC,KAAOV,EAAO,GAAY,YAARU,GAAqB9D,OAAO+D,UAAUC,eAAeC,KAAKb,EAAKU,GAAM,CAAE,IAAII,EAAON,EAAwB5D,OAAO6D,yBAAyBT,EAAKU,GAAO,KAAUI,IAASA,EAAKR,KAAOQ,EAAKtC,KAAQ5B,OAAOC,eAAe0D,EAAQG,EAAKI,GAAgBP,EAAOG,GAAOV,EAAIU,GAAYH,EAAM,QAAcP,EAASG,GAASA,EAAM3B,IAAIwB,EAAKO,GAAW,OAAOA,EAJtxBQ,CAAwBpE,EAAQ,IAE5C,SAASyD,EAAyBH,GAAe,GAAuB,oBAAZsB,QAAwB,OAAO,KAAM,IAAIC,EAAoB,IAAID,QAAeE,EAAmB,IAAIF,QAAW,OAAQnB,EAA2B,SAAkCH,GAAe,OAAOA,EAAcwB,EAAmBD,IAAsBvB,GAIhU,IAAIyI,EAA2B3I,EAAM4I,cAAc,WAYnD7L,EAAQ2L,oBAVkB,SAA6BnJ,GACrD,IAAI2F,EAAW3F,EAAK2F,SAChB7G,EAAOkB,EAAKlB,KAChB,OAAoB2B,EAAMoG,cAAcuC,EAAYE,SAAU,MAAM,SAAUC,GAC5E,OAAoB9I,EAAMoG,cAAcuC,EAAYI,SAAU,CAC5D/L,MAAOqB,GAAQyK,GACd5D,OAKP,IAAInH,EAAW4K,EACf5L,EAAO,QAAcgB,G,4CC3BNiL,EADI,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,GAAI,SAAY,CAAC,CAAE,IAAO,QAAS,MAAS,MAAS,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,mZAAuZ,KAAQ,OAAQ,MAAS,Y,QCKrpBA,EAAe,SAAsB1G,EAAOC,GAC9C,OAAoBvC,gBAAoBiJ,IAAUpM,OAAOqM,OAAO,GAAI5G,EAAO,CACzEC,IAAKA,EACLuC,KAAMqE,MAIVH,EAAa7B,YAAc,eACCnH,iBAAiBgJ,I,sPCKrCI,EAAYC,IAAZD,QAqUOE,UAnUF,WAAO,IAAD,MACXC,EAAUC,cACRC,EAAOC,cAAPD,GACJE,EAAcjG,mBACdkG,EAAoBlG,mBAClBmG,EAAWC,YAAYC,KACvBC,EAAUF,YAAYG,KACtBC,EAAeJ,YAAYK,KAC3BC,EAAgBN,YAAYO,KAClC,EAAgCxH,mBAAS,MAAzC,mBAAOyH,EAAP,KAAiBC,EAAjB,KACA,EAA4B1H,oBAAS,GAArC,mBAAO2H,EAAP,KAAeC,EAAf,KACA,EAA8B5H,oBAAS,GAAvC,mBAAO6H,EAAP,KAAiBC,EAAjB,KACA,EAAwB9H,oBAAS,GAAjC,mBAAO+H,EAAP,KAAaC,EAAb,KAEMC,EAAU,cAAC,IAAD,CAAiB/D,MAAO,CAAElB,SAAU,IAAKkF,MAAI,IAEzDC,EAAU,CACZC,YAAaC,SACbvK,IAAKuK,uBACLC,QAAS,MACTC,OAAQ,uBACRC,OAAQ,IACRC,UAAU,EACVC,cAAc,EACdC,kBAAmB,CAAC,KAAM,OAC1BC,WAAY,SAACC,EAASV,GAClB,MAAO,CACHW,UAAW,SAACC,EAAUC,GACfhC,EACCiC,IAAM,CACJC,OAAQ,OACRC,IAAI,GAAD,OAAKd,6BAAL,gCACHe,QAAS,CACPC,cAAc,UAAD,OAAYC,aAAaC,QAAQ,YAEhDC,KAAM,CACJC,UAAWV,EACXW,aAAcb,EAAQc,QAGvBC,MAAK,SAACC,GACLb,GAAS,EAAOa,EAASL,SAE1BM,OAAM,SAACC,GACNf,GAAS,EAAMe,MAGnBd,IAAM,CACJC,OAAQ,OACRC,IAAI,GAAD,OAAKd,6BAAL,+BACHe,QAAS,CACPC,cAAc,UAAD,OAAYC,aAAaC,QAAQ,iBAEhDC,KAAM,CACJC,UAAWV,EACXW,aAAcb,EAAQc,QAGvBC,MAAK,SAACC,GACLb,GAAS,EAAOa,EAASL,SAE1BM,OAAM,SAACC,GACNf,GAAS,EAAMe,UAQjCC,EAAO,IAAIC,IAAK9B,GAEd+B,EAAiB,WACR,IAAD,EAEP,EAFFlD,EACgB,OAAjBD,QAAiB,IAAjBA,GAAA,UAAAA,EAAmB3F,eAAnB,SAA4B+I,iBAEjB,OAAXrD,QAAW,IAAXA,GAAA,UAAAA,EAAa1F,eAAb,SAAsB+I,kBAIpBC,EAAc,WACfpD,GACDqD,YAAQzD,GACPgD,MAAK,SAAAU,GACF5C,EAAY4C,EAAId,MAChB5B,GAAU,GAGV2C,YAAS3D,GACRgD,MAAK,SAAAU,OACNJ,OAIL/C,GACCqD,YAAa5D,GACZgD,MAAK,SAAAU,GACF5C,EAAY4C,EAAId,MAChB5B,GAAU,GACVsC,IAGAO,YAAc7D,GACbgD,MAAK,SAAAU,WAMd5I,qBAAU,WACRsI,EAAKU,KAAL,eAAkB9D,IACjB+D,OAAO,gBAAgB,SAAAC,GACtBR,IACApC,GAAQ,GACRF,GAAU,MAEX+C,iBAAiB,WAAW,SAAAD,GAEd,IAAD,EAEL,GAHP9C,EAAU8C,GACP5D,GACkB,OAAjBD,QAAiB,IAAjBA,GAAA,UAAAA,EAAmB3F,eAAnB,SAA4B+I,iBAEjB,OAAXrD,QAAW,IAAXA,GAAA,UAAAA,EAAa1F,eAAb,SAAsB+I,oBAI5BC,MAEC,IA6CH,OAAGzC,EAAiB,eAACpB,EAAD,CAClBrE,UAAU,cACVgC,MAAO,CACL4G,QAAS,SACTC,UAAW,IAJK,cAMlB,cAAC,IAAD,CAAUC,QAAM,OAGhB,eAAC,IAAD,WACE,cAAC,IAAD,CACE9G,MAAO,CAAE+G,SAAU,QAASC,OAAQ,EAAGtI,MAAO,QAC9CV,UAAU,2BACViJ,MAAM,OACNC,OAAQ,kBAAM1E,EAAQ2E,YAGxB,cAAC9E,EAAD,CACErE,UAAU,cACVgC,MAAO,CACLrB,OAAO,mCACPyI,WAAY,GACZC,cAAe,IALnB,SAQE,sBAAKrJ,UAAU,yBAAf,UACE,sBAAKA,UAAU,mBAAf,UAEG8E,EAED,cAAC,IAAD,CAAMwE,GAAG,YAAT,SACE,sBAAKtJ,UAAU,+CAAf,UACE,cAAC,IAAD,CACE1G,KAAM,QACN0G,UAAU,oCAFZ,gBAIGqF,QAJH,IAIGA,GAJH,UAIGA,EAAekE,kBAJlB,aAIG,EAA2BC,OAAO,KAErC,oBAAGxJ,UAAU,2CAAb,iBACGqF,QADH,IACGA,OADH,EACGA,EAAekE,WADlB,WAC+BlE,QAD/B,IAC+BA,OAD/B,EAC+BA,EAAeoE,aAE9C,mBAAGzJ,UAAU,wCAAb,gBACGqF,QADH,IACGA,GADH,UACGA,EAAeqE,gBADlB,aACG,EAAyBC,gBAE5B,oBAAG3J,UAAU,2BAAb,yBAA+CqF,QAA/C,IAA+CA,OAA/C,EAA+CA,EAAeuE,cAIhE,cAAC,IAAD,CAAMN,GAAG,YAAT,SACA,sBAAKtJ,UAAU,+CAAf,UACE,cAAC,IAAD,CACE1G,KAAM,QACN0G,UAAU,oCAFZ,gBAIGmF,QAJH,IAIGA,GAJH,UAIGA,EAAcoE,kBAJjB,aAIG,EAA0BC,OAAO,KAEpC,oBAAGxJ,UAAU,2CAAb,iBACGmF,QADH,IACGA,OADH,EACGA,EAAcoE,WADjB,WAC8BpE,QAD9B,IAC8BA,OAD9B,EAC8BA,EAAcsE,aAE5C,oBAAGzJ,UAAU,wCAAb,UACE,mBAAGA,UAAU,mCADf,eAGA,oBAAGA,UAAU,2BAAb,yBAA8CmF,QAA9C,IAA8CA,OAA9C,EAA8CA,EAAcyE,cAK5DrE,EAASsE,KAAI,SAACzB,EAAKjL,GAAN,OACL,8BACC2H,EACqB,OAAlBsD,EAAI0B,UACJ,qBAAK9J,UAAW,oBAAhB,SACI,4BAAIoI,EAAI2B,YAEV,qBAAK/J,UAAW,eAAhB,SACE,4BAAIoI,EAAI2B,YAGG,OAAjB3B,EAAI4B,SACF,qBAAKhK,UAAW,oBAAhB,SACI,4BAAIoI,EAAI2B,YAEV,qBAAK/J,UAAW,eAAhB,SACE,4BAAIoI,EAAI2B,aAfN5M,MAuBA,IAApBoI,EAASnI,OACT,cAAC,IAAD,CAAO6M,MAAOC,IAAMC,yBAGpBrF,EACEa,GAA8B,cAAlBA,EAAS3C,KACnB,qBAAKhD,UAAU,OAAf,SACE,qBAAKA,UAAU,cAAf,SACE,sBAAKA,UAAU,SAAf,UACE,qBAAKA,UAAU,QACf,qBAAKA,UAAU,QACf,qBAAKA,UAAU,eAGZ,GACT2F,GAA8B,aAAlBA,EAAS3C,KACrB,qBAAKhD,UAAU,OAAf,SACE,qBAAKA,UAAU,cAAf,SACE,sBAAKA,UAAU,SAAf,UACE,qBAAKA,UAAU,QACf,qBAAKA,UAAU,QACf,qBAAKA,UAAU,eAGZ,GAIZ8E,EACA,qBAAK9C,MAAO,CAAEoI,MAAM,OAAQ9P,MAAO,QAChCkD,IAAKqH,IAEP,qBAAK7C,MAAO,CAAEoI,MAAM,OAAQ9P,MAAO,QACjCkD,IAAKoH,IAGTiB,EAAO,qBAAK7D,MAAO,CAAEoI,MAAM,OAAQ9P,MAAO,QAAnC,SACP,cAAC,IAAD,CAAM+P,UAAWtE,MACR,MAIb,qBAAK/F,UAAU,mCAAf,SACE,uBAAMsK,SAjLI,SAACxN,GACnBA,EAAEyN,iBACFzE,GAAQ,GAER,IAAM0E,EAAW,IAAIC,SAAS3N,EAAE4N,QAChCF,EAASG,OAAO,aAAcjG,GAE3BI,EACC8F,YAAUJ,GACT9C,MAAK,SAAAU,GACJyC,SAASC,cAAc,YAAY7S,MAAQ,GAC3C4S,SAASC,cAAc,SAASC,WAKtCC,YAAeR,GACd9C,MAAK,SAAAU,GACJyC,SAASC,cAAc,YAAY7S,MAAQ,GAC3C4S,SAASC,cAAc,SAASC,YA8JG/K,UAAU,SAAS0E,GAAG,OAAnD,UACI,0BAAUuG,KAAM,EAAGxD,KAAK,UAAUyD,YAAY,yBAAyBC,QA3JtE,WACVrG,EACDsG,YAAY,WACVtD,EAAKU,KAAL,eAAkB9D,IAAM2G,QAAQ,UAAW,CACzCC,OAAQlE,aAAaC,QAAQ,aAC7BrE,KAAM,YACNuI,QAAQ,MAET,KAEHH,YAAY,WACVtD,EAAKU,KAAL,eAAkB9D,IAAM2G,QAAQ,UAAW,CACzCC,OAAQlE,aAAaC,QAAQ,YAC7BrE,KAAM,WACNuI,QAAQ,MAET,MA2I+FC,UAAQ,IAChG,cAAC,IAAD,CACIC,SAAS,SACTzI,KAAK,UACLpD,MAAM,SACNG,KAAM,cAAC,IAAD,IACNC,UAAU","file":"static/js/4.59fc0830.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.responsiveMap = exports.responsiveArray = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _extends3 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar responsiveArray = ['xxl', 'xl', 'lg', 'md', 'sm', 'xs'];\nexports.responsiveArray = responsiveArray;\nvar responsiveMap = {\n  xs: '(max-width: 575px)',\n  sm: '(min-width: 576px)',\n  md: '(min-width: 768px)',\n  lg: '(min-width: 992px)',\n  xl: '(min-width: 1200px)',\n  xxl: '(min-width: 1600px)'\n};\nexports.responsiveMap = responsiveMap;\nvar subscribers = new Map();\nvar subUid = -1;\nvar screens = {};\nvar responsiveObserve = {\n  matchHandlers: {},\n  dispatch: function dispatch(pointMap) {\n    screens = pointMap;\n    subscribers.forEach(function (func) {\n      return func(screens);\n    });\n    return subscribers.size >= 1;\n  },\n  subscribe: function subscribe(func) {\n    if (!subscribers.size) this.register();\n    subUid += 1;\n    subscribers.set(subUid, func);\n    func(screens);\n    return subUid;\n  },\n  unsubscribe: function unsubscribe(token) {\n    subscribers[\"delete\"](token);\n    if (!subscribers.size) this.unregister();\n  },\n  unregister: function unregister() {\n    var _this = this;\n\n    Object.keys(responsiveMap).forEach(function (screen) {\n      var matchMediaQuery = responsiveMap[screen];\n      var handler = _this.matchHandlers[matchMediaQuery];\n      handler === null || handler === void 0 ? void 0 : handler.mql.removeListener(handler === null || handler === void 0 ? void 0 : handler.listener);\n    });\n    subscribers.clear();\n  },\n  register: function register() {\n    var _this2 = this;\n\n    Object.keys(responsiveMap).forEach(function (screen) {\n      var matchMediaQuery = responsiveMap[screen];\n\n      var listener = function listener(_ref) {\n        var matches = _ref.matches;\n\n        _this2.dispatch((0, _extends3[\"default\"])((0, _extends3[\"default\"])({}, screens), (0, _defineProperty2[\"default\"])({}, screen, matches)));\n      };\n\n      var mql = window.matchMedia(matchMediaQuery);\n      mql.addListener(listener);\n      _this2.matchHandlers[matchMediaQuery] = {\n        mql: mql,\n        listener: listener\n      };\n      listener(mql);\n    });\n  }\n};\nvar _default = responsiveObserve;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof3 = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _rcResizeObserver = _interopRequireDefault(require(\"rc-resize-observer\"));\n\nvar _ref = require(\"rc-util/lib/ref\");\n\nvar _configProvider = require(\"../config-provider\");\n\nvar _devWarning = _interopRequireDefault(require(\"../_util/devWarning\"));\n\nvar _responsiveObserve = require(\"../_util/responsiveObserve\");\n\nvar _useBreakpoint = _interopRequireDefault(require(\"../grid/hooks/useBreakpoint\"));\n\nvar _SizeContext = _interopRequireDefault(require(\"./SizeContext\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof3(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar InternalAvatar = function InternalAvatar(props, ref) {\n  var _classNames, _classNames2;\n\n  var groupSize = React.useContext(_SizeContext[\"default\"]);\n\n  var _React$useState = React.useState(1),\n      _React$useState2 = (0, _slicedToArray2[\"default\"])(_React$useState, 2),\n      scale = _React$useState2[0],\n      setScale = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = (0, _slicedToArray2[\"default\"])(_React$useState3, 2),\n      mounted = _React$useState4[0],\n      setMounted = _React$useState4[1];\n\n  var _React$useState5 = React.useState(true),\n      _React$useState6 = (0, _slicedToArray2[\"default\"])(_React$useState5, 2),\n      isImgExist = _React$useState6[0],\n      setIsImgExist = _React$useState6[1];\n\n  var avatarNodeRef = React.useRef();\n  var avatarChildrenRef = React.useRef();\n  var avatarNodeMergeRef = (0, _ref.composeRef)(ref, avatarNodeRef);\n\n  var _React$useContext = React.useContext(_configProvider.ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls;\n\n  var setScaleParam = function setScaleParam() {\n    if (!avatarChildrenRef.current || !avatarNodeRef.current) {\n      return;\n    }\n\n    var childrenWidth = avatarChildrenRef.current.offsetWidth; // offsetWidth avoid affecting be transform scale\n\n    var nodeWidth = avatarNodeRef.current.offsetWidth; // denominator is 0 is no meaning\n\n    if (childrenWidth !== 0 && nodeWidth !== 0) {\n      var _props$gap = props.gap,\n          gap = _props$gap === void 0 ? 4 : _props$gap;\n\n      if (gap * 2 < nodeWidth) {\n        setScale(nodeWidth - gap * 2 < childrenWidth ? (nodeWidth - gap * 2) / childrenWidth : 1);\n      }\n    }\n  };\n\n  React.useEffect(function () {\n    setMounted(true);\n  }, []);\n  React.useEffect(function () {\n    setIsImgExist(true);\n    setScale(1);\n  }, [props.src]);\n  React.useEffect(function () {\n    setScaleParam();\n  }, [props.gap]);\n\n  var handleImgLoadError = function handleImgLoadError() {\n    var onError = props.onError;\n    var errorFlag = onError ? onError() : undefined;\n\n    if (errorFlag !== false) {\n      setIsImgExist(false);\n    }\n  };\n\n  var customizePrefixCls = props.prefixCls,\n      shape = props.shape,\n      customSize = props.size,\n      src = props.src,\n      srcSet = props.srcSet,\n      icon = props.icon,\n      className = props.className,\n      alt = props.alt,\n      draggable = props.draggable,\n      children = props.children,\n      others = __rest(props, [\"prefixCls\", \"shape\", \"size\", \"src\", \"srcSet\", \"icon\", \"className\", \"alt\", \"draggable\", \"children\"]);\n\n  var size = customSize === 'default' ? groupSize : customSize;\n  var screens = (0, _useBreakpoint[\"default\"])();\n  var responsiveSizeStyle = React.useMemo(function () {\n    if ((0, _typeof2[\"default\"])(size) !== 'object') {\n      return {};\n    }\n\n    var currentBreakpoint = _responsiveObserve.responsiveArray.find(function (screen) {\n      return screens[screen];\n    });\n\n    var currentSize = size[currentBreakpoint];\n    return currentSize ? {\n      width: currentSize,\n      height: currentSize,\n      lineHeight: \"\".concat(currentSize, \"px\"),\n      fontSize: icon ? currentSize / 2 : 18\n    } : {};\n  }, [screens, size]);\n  (0, _devWarning[\"default\"])(!(typeof icon === 'string' && icon.length > 2), 'Avatar', \"`icon` is using ReactNode instead of string naming in v4. Please check `\".concat(icon, \"` at https://ant.design/components/icon\"));\n  var prefixCls = getPrefixCls('avatar', customizePrefixCls);\n  var sizeCls = (0, _classnames[\"default\"])((_classNames = {}, (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-lg\"), size === 'large'), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-sm\"), size === 'small'), _classNames));\n  var hasImageElement = /*#__PURE__*/React.isValidElement(src);\n  var classString = (0, _classnames[\"default\"])(prefixCls, sizeCls, (_classNames2 = {}, (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-\").concat(shape), !!shape), (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-image\"), hasImageElement || src && isImgExist), (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-icon\"), !!icon), _classNames2), className);\n  var sizeStyle = typeof size === 'number' ? {\n    width: size,\n    height: size,\n    lineHeight: \"\".concat(size, \"px\"),\n    fontSize: icon ? size / 2 : 18\n  } : {};\n  var childrenToRender;\n\n  if (typeof src === 'string' && isImgExist) {\n    childrenToRender = /*#__PURE__*/React.createElement(\"img\", {\n      src: src,\n      draggable: draggable,\n      srcSet: srcSet,\n      onError: handleImgLoadError,\n      alt: alt\n    });\n  } else if (hasImageElement) {\n    childrenToRender = src;\n  } else if (icon) {\n    childrenToRender = icon;\n  } else if (mounted || scale !== 1) {\n    var transformString = \"scale(\".concat(scale, \") translateX(-50%)\");\n    var childrenStyle = {\n      msTransform: transformString,\n      WebkitTransform: transformString,\n      transform: transformString\n    };\n    var sizeChildrenStyle = typeof size === 'number' ? {\n      lineHeight: \"\".concat(size, \"px\")\n    } : {};\n    childrenToRender = /*#__PURE__*/React.createElement(_rcResizeObserver[\"default\"], {\n      onResize: setScaleParam\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-string\"),\n      ref: function ref(node) {\n        avatarChildrenRef.current = node;\n      },\n      style: (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, sizeChildrenStyle), childrenStyle)\n    }, children));\n  } else {\n    childrenToRender = /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-string\"),\n      style: {\n        opacity: 0\n      },\n      ref: function ref(node) {\n        avatarChildrenRef.current = node;\n      }\n    }, children);\n  } // The event is triggered twice from bubbling up the DOM tree.\n  // see https://codesandbox.io/s/kind-snow-9lidz\n\n\n  delete others.onError;\n  delete others.gap;\n  return /*#__PURE__*/React.createElement(\"span\", (0, _extends2[\"default\"])({}, others, {\n    style: (0, _extends2[\"default\"])((0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, sizeStyle), responsiveSizeStyle), others.style),\n    className: classString,\n    ref: avatarNodeMergeRef\n  }), childrenToRender);\n};\n\nvar Avatar = /*#__PURE__*/React.forwardRef(InternalAvatar);\nAvatar.displayName = 'Avatar';\nAvatar.defaultProps = {\n  shape: 'circle',\n  size: 'default'\n};\nvar _default = Avatar;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fillRef = fillRef;\nexports.composeRef = composeRef;\nexports.supportRef = supportRef;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _reactIs = require(\"react-is\");\n\nfunction fillRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else if ((0, _typeof2.default)(ref) === 'object' && ref && 'current' in ref) {\n    ref.current = node;\n  }\n}\n/**\n * Merge refs into one ref function to support ref passing.\n */\n\n\nfunction composeRef() {\n  for (var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++) {\n    refs[_key] = arguments[_key];\n  }\n\n  return function (node) {\n    refs.forEach(function (ref) {\n      fillRef(ref, node);\n    });\n  };\n}\n\nfunction supportRef(nodeOrComponent) {\n  var _type$prototype, _nodeOrComponent$prot;\n\n  var type = (0, _reactIs.isMemo)(nodeOrComponent) ? nodeOrComponent.type.type : nodeOrComponent.type; // Function component node\n\n  if (typeof type === 'function' && !((_type$prototype = type.prototype) === null || _type$prototype === void 0 ? void 0 : _type$prototype.render)) {\n    return false;\n  } // Class component\n\n\n  if (typeof nodeOrComponent === 'function' && !((_nodeOrComponent$prot = nodeOrComponent.prototype) === null || _nodeOrComponent$prot === void 0 ? void 0 : _nodeOrComponent$prot.render)) {\n    return false;\n  }\n\n  return true;\n}\n/* eslint-enable */","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = require(\"react\");\n\nvar _responsiveObserve = _interopRequireDefault(require(\"../../_util/responsiveObserve\"));\n\nfunction useBreakpoint() {\n  var _useState = (0, _react.useState)({}),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      screens = _useState2[0],\n      setScreens = _useState2[1];\n\n  (0, _react.useEffect)(function () {\n    var token = _responsiveObserve[\"default\"].subscribe(function (supportScreens) {\n      setScreens(supportScreens);\n    });\n\n    return function () {\n      return _responsiveObserve[\"default\"].unsubscribe(token);\n    };\n  }, []);\n  return screens;\n}\n\nvar _default = useBreakpoint;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.SizeContextProvider = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar SizeContext = /*#__PURE__*/React.createContext('default');\n\nvar SizeContextProvider = function SizeContextProvider(_ref) {\n  var children = _ref.children,\n      size = _ref.size;\n  return /*#__PURE__*/React.createElement(SizeContext.Consumer, null, function (originSize) {\n    return /*#__PURE__*/React.createElement(SizeContext.Provider, {\n      value: size || originSize\n    }, children);\n  });\n};\n\nexports.SizeContextProvider = SizeContextProvider;\nvar _default = SizeContext;\nexports[\"default\"] = _default;","// This icon file is generated automatically.\nvar SendOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"defs\", \"attrs\": {}, \"children\": [{ \"tag\": \"style\", \"attrs\": {} }] }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z\" } }] }, \"name\": \"send\", \"theme\": \"outlined\" };\nexport default SendOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport SendOutlinedSvg from \"@ant-design/icons-svg/es/asn/SendOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar SendOutlined = function SendOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: SendOutlinedSvg\n  }));\n};\n\nSendOutlined.displayName = 'SendOutlined';\nexport default /*#__PURE__*/React.forwardRef(SendOutlined);","import { useHistory, Link, useParams } from \"react-router-dom\";\nimport { useEffect, useRef, useState } from \"react\";\n\nimport { Empty, PageHeader, Skeleton } from \"antd\";\nimport { Layout } from \"antd\";\nimport { Button } from \"antd\";\nimport { SendOutlined } from \"@ant-design/icons\";\nimport { getChat, storeChat, seenChat } from \"@/api/vendor/index\"\nimport { getChatRider, storeChatRider, seenChatRider } from \"@/api/rider/index\"\nimport { vendorAuth, getUser } from '@/reducers/reducers'\nimport { isAuthRider, getUser as riderUser } from \"@/reducers/rider/reducers\"\nimport { useSelector } from \"react-redux\";\nimport Pusher from \"pusher-js\"\nimport Echo from 'laravel-echo';\nimport axios from \"axios\";\nimport Avatar from \"antd/lib/avatar/avatar\";\nimport { Spin } from 'antd';\nimport { LoadingOutlined } from '@ant-design/icons';\n\nconst { Content } = Layout;\n\nconst Chat = () => {\n  const history = useHistory();\n  const { id } = useParams();\n  let messagesEnd = useRef();\n  let messagesEndVendor = useRef();\n  const isVendor = useSelector(vendorAuth)\n  const isRider = useSelector(isAuthRider)\n  const profileRider = useSelector(riderUser)\n  const profileVendor = useSelector(getUser)\n  const [messages, setMessages] = useState(null);\n  const [loader, setLoader] = useState(true);\n  const [isTyping, setTyping] = useState(false)\n  const [send, setSend] = useState(false)\n\n  const antIcon = <LoadingOutlined style={{ fontSize: 18}} spin />;\n\n  let options = {\n    broadcaster: process.env.REACT_APP_BROADCAST,\n    key: process.env.REACT_APP_PUSHER_KEY,\n    cluster: 'ap2',\n    wsHost: 'socket.sathichha.com',\n    wsPort: 443,\n    forceTLS: true,\n    disableStats: true,\n    enabledTransports: [\"ws\", \"wss\"],\n    authorizer: (channel, options) => {\n        return {\n            authorize: (socketId, callback) => {\n                if(isVendor){\n                    axios({\n                      method: \"POST\",\n                      url: `${process.env.REACT_APP_API_URL}api/vendor/broadcasting/auth`,\n                      headers: {\n                        Authorization: `Bearer ${localStorage.getItem('_token')}`,\n                      },\n                      data: {\n                        socket_id: socketId,\n                        channel_name: channel.name,\n                      },\n                    })\n                      .then((response) => {\n                        callback(false, response.data);\n                      })\n                      .catch((error) => {\n                        callback(true, error);\n                    });\n                }else{\n                    axios({\n                      method: \"POST\",\n                      url: `${process.env.REACT_APP_API_URL}api/rider/broadcasting/auth`,\n                      headers: {\n                        Authorization: `Bearer ${localStorage.getItem('_riderToken')}`,\n                      },\n                      data: {\n                        socket_id: socketId,\n                        channel_name: channel.name,\n                      },\n                    })\n                      .then((response) => {\n                        callback(false, response.data);\n                      })\n                      .catch((error) => {\n                        callback(true, error);\n                  });\n                }\n            }\n        };\n    }\n  };\n\n  let echo = new Echo(options);\n\n  const scrollToBottom = () => {\n    if(isVendor){\n      messagesEndVendor?.current?.scrollIntoView();\n    }else{\n      messagesEnd?.current?.scrollIntoView();\n    }\n  }\n\n  const showMessage = () => {\n    if(isVendor){\n      getChat(id)\n      .then(res => {\n          setMessages(res.data)\n          setLoader(false)\n\n          // check seen\n          seenChat(id)\n          .then(res => {});\n          scrollToBottom()\n      })\n  }\n\n  if(isRider){\n      getChatRider(id)\n      .then(res => {\n          setMessages(res.data)\n          setLoader(false)\n          scrollToBottom()\n\n          // check seen\n          seenChatRider(id)\n          .then(res => {});\n          \n      })\n  }\n  }\n\n  useEffect(() => {\n    echo.join(`chat.${id}`)\n    .listen('.chat-listen', event => {\n      showMessage()\n      setSend(false)\n      setTyping(false)\n    })\n    .listenForWhisper('typings', event => {\n      setTyping(event)\n      if(isVendor){\n          messagesEndVendor?.current?.scrollIntoView();\n        }else{\n          messagesEnd?.current?.scrollIntoView();\n        }\n    })\n\n    showMessage()\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const sendMessage = (e) => {\n    e.preventDefault()\n    setSend(true)\n    \n    const formData = new FormData(e.target)\n    formData.append('package_id', id);    \n\n    if(isVendor){\n        storeChat(formData)\n        .then(res => {\n          document.querySelector('textarea').value = ''\n          document.querySelector('#form').reset()\n        })\n        return;\n    }\n\n    storeChatRider(formData)\n    .then(res => {\n      document.querySelector('textarea').value = ''\n      document.querySelector('#form').reset()\n    })\n  }\n\n  const typing = () => {\n    if(isVendor){\n      setTimeout( () => {\n        echo.join(`chat.${id}`).whisper('typings', {\n          userId: localStorage.getItem('_vendorID'),\n          type: 'is_vendor',\n          typing: true\n        })\n      }, 300)\n    }else{\n      setTimeout( () => {\n        echo.join(`chat.${id}`).whisper('typings', {\n          userId: localStorage.getItem('_riderID'),\n          type: 'is_rider',\n          typing: true\n        })\n      }, 300)\n    }\n  }\n\n  if(loader) { return <Content\n    className=\"site-layout\"\n    style={{\n      padding: \"0 14px\",\n      marginTop: 60,\n    }}\n  > <Skeleton active/></Content> }\n\n  return (\n    <Layout>\n      <PageHeader\n        style={{ position: \"fixed\", zIndex: 1, width: \"100%\" }}\n        className=\"site-page-header bg-red \"\n        title=\"Chat\"\n        onBack={() => history.goBack()}\n      />\n\n      <Content\n        className=\"site-layout\"\n        style={{\n          height:\"-webkit-fill-available!important\",\n          paddingTop: 54,\n          paddingBottom: 54,\n        }}\n      >\n        <div className=\"site-layout-background\">\n          <div className=\"chat-screen px-3\"\n            >\n            {isVendor ?\n\n            <Link to=\"/Delivery\">\n              <div className=\"d-flex justify-content flex-column mt-4 mb-4\">\n                <Avatar\n                  size={\"large\"}\n                  className=\"ticket-img mx-auto rounded-circle\"\n                >\n                  {profileVendor?.first_name?.charAt(0)} \n                </Avatar>\n                <p className=\"font-14 font-weight-600 pt-2 text-center\">\n                  {profileVendor?.first_name} {profileVendor?.last_name}\n                </p>\n                <p className=\"message-time text-center py-1 f-w-600\">\n                  {profileVendor?.location?.whole_address}\n                </p>\n                <p className=\"message-time text-center\">+977 { profileVendor?.phone }</p>\n              </div>\n            </Link>\n            : \n              <Link to=\"/Delivery\">\n              <div className=\"d-flex justify-content flex-column mt-5 mb-4\">\n                <Avatar\n                  size={\"large\"}\n                  className=\"ticket-img mx-auto rounded-circle\"\n                >\n                  {profileRider?.first_name?.charAt(0)} \n                </Avatar>\n                <p className=\"font-14 font-weight-600 pt-2 text-center\">\n                  {profileRider?.first_name} {profileRider?.last_name}\n                </p>\n                <p className=\"message-time text-center py-1 f-w-600\">\n                  <i className=\"fa fa-certificate text-success\"></i> Verified\n                </p>\n                <p className=\"message-time text-center\">+977 {profileRider?.phone}</p>\n              </div>\n            </Link>\n            }\n            {\n                messages.map((res, i) => (\n                        <div key={i}>\n                        {isVendor ?\n                            res.vendor_id === null ?\n                            <div className={'send my-3 ml-auto'}>\n                                <p>{res.message}</p>\n                            </div>\n                            : <div className={'recieve my-3'}>\n                                <p>{res.message}</p>\n                            </div>\n\n                        : res.rider_id === null ?\n                            <div className={'send my-3 ml-auto'}>\n                                <p>{res.message}</p>\n                            </div>\n                            : <div className={'recieve my-3'}>\n                                <p>{res.message}</p>\n                            </div>\n                        }\n                        </div>\n                ))\n            }\n            \n            {\n              messages.length === 0 ? \n              <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} />\n              : \n\n              isVendor ?\n                isTyping && isTyping.type !== 'is_vendor' ? \n                  <div className=\"my-3\">\n                    <div className=\"chat-bubble\">\n                      <div className=\"typing\">\n                        <div className=\"dot\"></div>\n                        <div className=\"dot\"></div>\n                        <div className=\"dot\"></div>\n                      </div>\n                    </div>\n                  </div> : ''\n                : isTyping && isTyping.type !== 'is_rider' ? \n                  <div className=\"my-3\">\n                    <div className=\"chat-bubble\">\n                      <div className=\"typing\">\n                        <div className=\"dot\"></div>\n                        <div className=\"dot\"></div>\n                        <div className=\"dot\"></div>\n                      </div>\n                    </div>\n                  </div> : ''\n            }\n           \n            {\n               isVendor ?\n               <div style={{ float:\"left\", clear: \"both\" }}\n                  ref={messagesEndVendor}>\n              </div>\n              : <div style={{ float:\"left\", clear: \"both\" }}\n                  ref={messagesEnd}>\n              </div>\n            }\n            { send ? <div style={{ float:\"left\", clear: \"both\" }}>\n              <Spin indicator={antIcon} />\n              </div> : ''\n            }\n      \n          </div>\n          <div className=\"chat-bg position-fixed py-2 px-3\">\n            <form onSubmit={sendMessage} className=\"d-flex\" id=\"form\">\n                <textarea rows={1} name=\"message\" placeholder=\"Type your message here\" onKeyUp={typing} required/>\n                <Button\n                    htmlType=\"submit\"\n                    type=\"primary\"\n                    shape=\"circle\"\n                    icon={<SendOutlined />}\n                    className=\"ml-2 my-auto\"\n                />\n            </form>\n          </div>\n        </div>\n      </Content>\n    </Layout>\n  );\n};\n\nexport default Chat;\n"],"sourceRoot":""}