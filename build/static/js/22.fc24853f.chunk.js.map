{"version":3,"sources":["components/rider/DeliverSignModal.js","components/rider/CancelReasonModal.js","pages/rider/packageDetail.js"],"names":["ModelSign","props","isModalVisible","signpad","completeDelivery","handleCancel","clearSign","loading","alert","modelMobile","visible","footer","onCancel","style","top","className","ref","penColor","canvasProps","block","type","onClick","disabled","text","onPress","console","log","CancelReasonsModal","cancelReasonModal","setCancelReasonModal","cancelSubmit","radio","handleRadio","cancelReason","TextArea","Input","onSubmit","Group","name","defaultValue","onChange","direction","map","res","key","value","id","title","required","rows","placeholder","htmlType","TabPane","Tabs","Content","Steps","Step","Layout","Header","Footer","PackageRider","useState","setIsModalVisible","loader","setLoader","setLoading","setRadio","setCancelReason","loadingCanc","setLoadingCanc","useRef","dispatch","useDispatch","packageDetailSelector","useSelector","packageDetail","useParams","useEffect","getCancelReason","then","data","catch","err","package","getPackageDetail","getPrackageDetail","storePackageDetail","history","useHistory","current","clear","position","zIndex","width","onBack","goBack","padding","marginTop","active","defaultActiveKey","tab","cancel_ride","process_step","src","packageimg","alt","vendor","first_name","last_name","no_of_package","category","weight","product_price","special_instruction","parseInt","receiver_name","receiver_phone","accepted_package","cancel_reasons_id","custom_cancel_reason","href","to","getTrimmedCanvas","Toast","fail","img","toDataURL","formData","FormData","append","dataURLtoFile","savePackageSignature","success","e","preventDefault","target","saveCancelReason","message","Object","entries","errors","info"],"mappings":"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","file":"static/js/22.fc24853f.chunk.js","sourcesContent":["import SignatureCanvas from 'react-signature-canvas'\nimport { Modal, Button} from \"antd\"\nimport { Modal as modelMobile } from \"antd-mobile\"\nimport {\n\tLoadingOutlined,\n} from '@ant-design/icons';\n\nconst ModelSign = (props) => { \n\n    let {isModalVisible, signpad, completeDelivery, handleCancel, clearSign, loading} = props\n\n    const alert = modelMobile.alert;\n\n    return (\n        <Modal\n            visible={isModalVisible}\n            footer={null}\n            onCancel={handleCancel}\n            style={{ top: 20 }}\n            >\n            <p className=\"text-center text-lg f-w-600\">Reciever Signature</p>\n\n                    <SignatureCanvas ref={signpad} penColor='black'\n                    canvasProps={{className: 'sigCanvas border rounded my-4'}} />\n                    <Button block type=\"\" onClick={clearSign} className=\"mb-2\">\n                Clear signature\n            </Button>\n            <Button disabled={loading} block type=\"primary\"    \n                    onClick={() =>\n                        alert('Complete Delivery', 'Are you sure???', [\n                            { text: 'Cancel', onPress: () => console.log('cancel') },\n                            { text: 'Ok', onPress: () => completeDelivery()},\n                        ])\n                    }\n                    className=\"mb-2\">\n\n                    {loading ? <LoadingOutlined /> : \"Complete Delivery\"}\n            </Button>\n        </Modal>\n        )\n}\n\nexport default ModelSign","\nimport { Modal, Radio, Input, Button, Space } from \"antd\"\nimport {\n\tLoadingOutlined,\n} from '@ant-design/icons';\n\nconst CancelReasonsModal = (props) => {\n    let { cancelReasonModal, setCancelReasonModal, cancelSubmit, radio, handleRadio,  cancelReason, loading} = props\n    const { TextArea } = Input\n\n    return (\n\t\t<Modal\n        visible={cancelReasonModal}\n        footer={null}\n        onCancel={() => setCancelReasonModal(false)}\n        style={{ top: 20 }}\n        >\n            <p className=\" text-lg f-w-600\">Select one of the reason below?</p>\n            <div className=\"py-4\">\n            <form onSubmit={cancelSubmit}>\n                <Radio.Group name=\"cancel_reasons_id\" defaultValue={radio} onChange={handleRadio}>\n                    <Space direction=\"vertical\">\n                        {\n                            cancelReason?.map((res, key) => (\n                                <Radio value={res.id}  key={key} >{res.title} </Radio>\n                            ))\n                        }\n                        <Radio value={5}>Other</Radio>\n                    </Space>\n                \n                </Radio.Group>\n                {\n                    radio === 5 ?\n                    <TextArea\n                    required={true}\n                    className=\"mt-2\"\n                    rows={3}\n                    name={\"custom_cancel_reason\"}\n                    placeholder=\"Enter Reason Here\"\n                    /> : null\n                }\n\n                <Button block type=\"primary\" className=\"mb-0 mt-3\" htmlType=\"submit\">\n                   {loading ? <LoadingOutlined /> : \"Submit\"}\n                </Button>\n            </form>\n                    \n            </div>\n        </Modal>\n    )\n}\n\nexport default CancelReasonsModal","import { useHistory, Link, useParams } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport React, { useState, useRef } from \"react\";\nimport { Tabs, Skeleton, Modal, Layout, PageHeader, Steps, Button, Space, Radio, Input } from \"antd\";\nimport packageimg from \"../../assets/vendor/packageimg.svg\";\nimport CanvasDraw from \"react-canvas-draw\";\nimport { getPrackageDetail, savePackageSignature, getCancelReason, saveCancelReason } from \"@/api/rider/index\"\nimport { packageDetail, storePackageDetail } from \"@/reducers/rider/reducers\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { Toast, Modal as modelMobile } from \"antd-mobile\";\nimport DeliverModal from \"@/components/rider/DeliverSignModal\"\nimport { dataURLtoFile } from \"@/helper/helper\"\nimport CancelReasonsModal from \"@/components/rider/CancelReasonModal\"\n\nconst { TabPane } = Tabs;\n\nconst { Step } = Steps;\nconst { Header, Content, Footer } = Layout;\n\nconst PackageRider = () => {\n\n\tconst { TextArea } = Input\n\n\tconst [isModalVisible, setIsModalVisible] = useState(false);\n\tconst [loader, setLoader] = useState(true);\n\tconst [loading, setLoading] = useState(false);\n\tconst [radio, setRadio] = useState(1);\n\tconst [cancelReason, setCancelReason] = useState(null)\n\tconst [cancelReasonModal, setCancelReasonModal] = useState(false)\n\tconst [canceled, setCancel] = useState(false)\n\tconst [loadingCanc, setLoadingCanc] = useState(false)\n\n\tlet signpad = useRef()\n\tconst alert = modelMobile.alert;\n\n\tconst dispatch = useDispatch();\n\tconst packageDetailSelector = useSelector(packageDetail);\n\n\tlet { id } = useParams();\n\n\tfunction callback(key) {\n\t\tconsole.log(key);\n\t}\n\n\tconst canvasDraw = () => {\n\t\treturn <CanvasDraw\n\t\t\timgSrc=\"\"\n\t\t\thideInterface={true}\n\t\t\tloadTimeOffset={5}\n\t\t\tclassName=\"sign-draw\"\n\t\t/>\n\t}\n\n\tconst showModal = () => {\n\t\tcanvasDraw()\n\t\tsetIsModalVisible(true);\n\t};\n\n\tconst handleOk = () => {\n\t\tsetIsModalVisible(false);\n\t};\n\n\tconst handleCancel = () => {\n\t\tsetIsModalVisible(false);\n\t\tsignpad.current.clear()\n\t};\n\n\tuseEffect(() => {\n\t\t// pull cancel reason \n\t\tgetCancelReason()\n\t\t\t.then(res => {\n\t\t\t\tsetCancelReason(res.data)\n\t\t\t}).catch(err => {\n\t\t\t\t// alert(err.message)\n\t\t\t})\n\n\t\tif (packageDetailSelector === null || packageDetailSelector?.package?.id !== id) {\n\t\t\tgetPackageDetail();\n\t\t} else {\n\t\t\tsetLoader(false)\n\t\t}\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst getPackageDetail = () => {\n\t\tgetPrackageDetail(id)\n\t\t\t.then(res => {\n\t\t\t\tdispatch(storePackageDetail(res.data))\n\t\t\t\tsetLoader(false)\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t}\n\n\tconst history = useHistory();\n\n\tconst clearSign = () => {\n\t\tsignpad.current.clear()\n\t}\n\n\tconst completeDelivery = () => {\n\n\t\tsetLoading(true)\n\n\t\tif (signpad.current.getTrimmedCanvas().width === 1) {\n\t\t\tToast.fail('Please add signature to the canvas.')\n\t\t\tsetLoading(false)\n\t\t\treturn\n\t\t}\n\n\t\tlet img = signpad.current.getTrimmedCanvas()\n\t\t\t.toDataURL('image/png');\n\n\t\tlet formData = new FormData()\n\t\tformData.append('package_id', packageDetailSelector?.package?.id);\n\t\tformData.append('receiver_signature_image', dataURLtoFile(img, 'signature' + packageDetailSelector?.package?.receiver_name))\n\t\tformData.append('receiver_signature_name', packageDetailSelector?.package?.receiver_name)\n\n\t\tsavePackageSignature(formData)\n\t\t\t.then(res => {\n\t\t\t\tToast.success('Package delivered successfully');\n\t\t\t\tsetIsModalVisible(false);\n\t\t\t\tclearSign();\n\t\t\t\tsetLoading(false);\n\t\t\t\tgetPackageDetail();\n\n\t\t\t}).catch(err => {\n\t\t\t\tToast.fail('Someting went wrong. please try again');\n\t\t\t\tsetLoading(false)\n\t\t\t})\n\n\t}\n\n\t// handle radio button change from modal \n\tconst handleRadio = (e) => {\n\t\tsetRadio(e.target.value)\n\t}\n\n\t// cancel reason submit \n\tconst cancelSubmit = (e) => {\n\t\te.preventDefault()\n\t\tlet formData = new FormData(e.target)\n\t\tformData.append('package_id', id);\n\t\tsetLoadingCanc(true)\n\t\tsaveCancelReason(formData)\n\t\t\t.then(res => {\n\t\t\t\tToast.success(res.data.message)\n\t\t\t\tsetCancelReasonModal(false)\n\t\t\t\tgetPackageDetail();\n\t\t\t\tsetLoadingCanc(false)\n\t\t\t}).catch(err => {\n\t\t\t\tObject.entries(err?.data?.errors).map(res => {\n\t\t\t\t\tToast.info(res[1][0]);\n\t\t\t\t})\n\t\t\t\tsetLoadingCanc(false)\n\t\t\t})\n\t}\n\n\treturn (\n\t\t<Layout>\n\t\t\t<PageHeader\n\t\t\t\tstyle={{ position: \"fixed\", zIndex: 1, width: \"100%\" }}\n\t\t\t\tonBack={() => history.goBack()}\n\t\t\t\tclassName=\"site-page-header bg-red\"\n\t\t\t\ttitle=\"Package\"\n\t\t\t/>\n\n\t\t\t<Content\n\t\t\t\tclassName=\"site-layout\"\n\t\t\t\tstyle={{\n\t\t\t\t\tpadding: \"0 14px\",\n\t\t\t\t\tmarginTop: 60,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{loader ? <Skeleton active />\n\t\t\t\t\t:\n\t\t\t\t\t<div className=\"site-layout-background mb-3\">\n\t\t\t\t\t\t<Tabs defaultActiveKey=\"1\" onChange={callback}>\n\t\t\t\t\t\t\t<TabPane tab={ packageDetailSelector?.cancel_ride !== null ? 'Canceled' : packageDetailSelector.process_step === 3 ? \"Delivered\" : \"Ongoing\"} key=\"1\">\n\t\t\t\t\t\t\t\t<div className=\"package-card \">\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex  flex-wrap\">\n\t\t\t\t\t\t\t\t\t\t<img src={packageimg} alt=\"\" className=\"width-pack\" />\n\t\t\t\t\t\t\t\t\t\t<table className=\"table ml-2 my-auto\">\n\t\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"font-14 font-weight-600 text-capitalize\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{packageDetailSelector?.package?.vendor?.first_name + ' ' + packageDetailSelector?.package?.vendor?.last_name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"font-14 font-weight-600 text-align-end pl-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tx {packageDetailSelector?.package?.no_of_package}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"p-small\">Categories</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"p-small p-small-sharp \">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{packageDetailSelector?.package?.category?.title}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"p-small\">Weight</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"p-small p-small-sharp \">{packageDetailSelector?.package?.weight}KG</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"p-small font-14\">Price</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"vendor-package-price font-14  \">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tRs {packageDetailSelector?.package?.product_price}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t<div className=\"my-auto ml-auto\">\n\t\t\t\t\t\t\t\t\t\t\t{\t\n\t\t\t\t\t\t\t\t\t\t\t\tpackageDetailSelector?.cancel_ride !== null ?\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"status-success font-12 text-danger\">Canceled</p> :\n\t\t\t\t\t\t\t\t\t\t\t\tpackageDetailSelector.process_step == 3 ?\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"status-success font-12 text-success\">Delivered</p>\n\t\t\t\t\t\t\t\t\t\t\t\t: <p className=\"status-active font-12 text-warning\">Processing</p>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpackageDetailSelector.process_step !== 3 &&\n\t\t\t\t\t\t\t\t\tpackageDetailSelector?.cancel_ride !== null ?\n\t\t\t\t\t\t\t\t\t<Button onClick={() => setCancelReasonModal(true)} type=\"\" block className=\"my-2\">\n\t\t\t\t\t\t\t\t\t\t\tCancel Pickup\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t{/* //Additional Info Section */}\n\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpackageDetailSelector?.package?.special_instruction !== null ?\n\t\t\t\t\t\t\t\t\t\t<section>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"mt-2 mb-1 font-12\">Additional Information</p>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"package-card \">\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"add-info \">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{packageDetailSelector?.package?.special_instruction}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</section> : ''\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t{/* //payment details info */}\n\t\t\t\t\t\t\t\t<section className=\"package-card my-2\">\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-between\">\n\t\t\t\t\t\t\t\t\t\t<p className=\"p-location-14\">Delivery Charge</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"p-location-14 \">Rs 200</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-between pt-3\">\n\t\t\t\t\t\t\t\t\t\t<p className=\"p-location-14 text-red\">Total</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"p-location-14 text-red\">{parseInt(packageDetailSelector?.package?.product_price) + parseInt(200)}</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</section>\n\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpackageDetailSelector?.cancel_ride === null ?\n\t\t\t\t\t\t\t\t\t<section>\n\t\t\t\t\t\t\t\t\t\t<p className=\"mt-3 mb-1 font-12\">Reciever Info</p>\n\t\t\t\t\t\t\t\t\t\t<div className=\"package-card \">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-user-alt mr-2 d-p-color fa-xs my-auto \"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"f-w-600\">{packageDetailSelector?.package?.receiver_name}</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex mt-3 pb-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-phone-alt mr-2 d-p-color fa-xs my-auto  \"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"f-w-600\">{packageDetailSelector?.package?.receiver_phone}</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{packageDetailSelector.process_step !== 3 &&\n\t\t\t\t\t\t\t\t\t\t\t\tpackageDetailSelector?.accepted_package?.cancel_reasons_id === null\n\t\t\t\t\t\t\t\t\t\t\t\t&& packageDetailSelector?.accepted_package?.custom_cancel_reason === null\n\t\t\t\t\t\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tblock\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"my-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={showModal}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tAdd Signature\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpackageDetailSelector?.cancel_ride === null ?\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex\" style={packageDetailSelector.process_step !== 3 ? { padding: \"0 13px\" } : {}}>\n\t\t\t\t\t\t\t\t\t\t<a className=\"mr-1 w-100\" href={`tel:${packageDetailSelector?.package?.receiver_phone}`}>\n\t\t\t\t\t\t\t\t\t\t\t<Button type=\"primary flex-fill w-100\" className=\"my-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-phone-volume pr-2 text-white\"></i>\n\t\t\t\t\t\t\t\t\t\t\t\tCall Vendor\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t<Link to={\"/chat/\"+packageDetailSelector?.package?.id}  className=\"my-2 flex-fill w-100 ml-1\">\n\t\t\t\t\t\t\t\t\t\t\t<Button type=\"default\" className=\"w-100\">\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"far fa-comment-dots pr-2\"></i>\n\t\t\t\t\t\t\t\t\t\t\t\tMessage\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</div> : null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</TabPane>\n\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</Content>\n\n\t\t\t<DeliverModal\n\t\t\t\tisModalVisible={isModalVisible}\n\t\t\t\thandleCancel={handleCancel}\n\t\t\t\tsignpad={signpad}\n\t\t\t\tloading={loading}\n\t\t\t\tclearSign={clearSign}\n\t\t\t\tcompleteDelivery={completeDelivery}\n\t\t\t/>\n\n\t\t\t<CancelReasonsModal\n\t\t\t\tcancelReasonModal={cancelReasonModal}\n\t\t\t\tsetCancelReasonModal={setCancelReasonModal}\n\t\t\t\tcancelSubmit={cancelSubmit}\n\t\t\t\tradio={radio}\n\t\t\t\thandleRadio={handleRadio}\n\t\t\t\tcancelReason={cancelReason}\n\t\t\t\tloading={loadingCanc}\n\t\t\t/>\n\n\t\t</Layout>\n\t);\n};\n\nexport default PackageRider;\n"],"sourceRoot":""}