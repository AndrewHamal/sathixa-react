{"version":3,"sources":["pages/rider/Profile.js"],"names":["ProfilePage","Content","Layout","dispatch","useDispatch","history","useHistory","userSelector","useSelector","getUser","useState","loader","setLoader","useEffect","profile","then","res","storeUser","data","className","style","padding","marginTop","active","size","color","backgroundColor","first_name","charAt","last_name","phone","to","onClick","logout","localStorage","removeItem","setToken","push"],"mappings":"4NAyHeA,UAhHK,WAClB,IAAQC,EAAYC,IAAZD,QACFE,EAAWC,cACXC,EAAUC,cACVC,EAAeC,YAAYC,KACjC,EAA4BC,oBAAS,GAArC,mBAAOC,EAAP,KAAeC,EAAf,KAwBA,OAtBAC,qBAAU,WACY,OAAjBN,EACDO,cACCC,MAAK,SAAAC,GACJb,EAASc,YAAUD,EAAIE,OACvBN,GAAU,MAGZA,GAAU,KAGX,CAACT,EAAUI,IAWXI,EAAiB,eAACV,EAAD,CAClBkB,UAAU,cACVC,MAAO,CACLC,QAAS,SACTC,UAAW,IAJK,cAMlB,cAAC,IAAD,CAAUC,QAAM,OAGhB,cAAC,IAAD,UACE,eAACtB,EAAD,CACCkB,UAAU,cACVC,MAAO,CACLC,QAAS,UAHZ,UAOE,qBAAKF,UAAU,0BAAf,SACE,sBAAKA,UAAU,sCAAf,UACE,eAAC,IAAD,CACEK,KAAM,GACNJ,MAAO,CACLK,MAAO,UACPC,gBAAiB,WAJrB,UAOCnB,EAAaoB,WAAWC,OAAO,GAAIrB,EAAasB,UAAUD,OAAO,MAElE,sBAAKT,UAAU,eAAf,UACE,oBAAGA,UAAU,kBAAb,UAAgCZ,EAAaoB,WAA7C,IAA0DpB,EAAasB,aACvE,oBAAGV,UAAU,qBAAb,cAAoCZ,EAAauB,YAEnD,mBAAGX,UAAU,wCAGjB,cAAC,IAAD,CAAMY,GAAG,gBAAT,SACE,sBAAKZ,UAAU,kBAAf,UACE,mBAAGA,UAAU,aAAb,qBACA,sBAAKA,UAAU,cAAf,UACE,mBAAGA,UAAU,sCACb,mBAAGA,UAAU,cAAb,6BAIN,cAAC,IAAD,CAAMY,GAAG,YAAT,SACE,sBAAKZ,UAAU,kBAAf,UACE,mBAAGA,UAAU,aAAb,uBACA,sBAAKA,UAAU,cAAf,UACE,mBAAGA,UAAU,0CACb,mBAAGA,UAAU,cAAb,+BAKN,sBAAKA,UAAU,kBAAf,UACE,mBAAGA,UAAU,aAAb,oBACA,sBAAKA,UAAU,cAAf,UACE,mBAAGA,UAAU,2CACb,mBAAGA,UAAU,cAAb,iCAGJ,sBAAKA,UAAU,kBAAf,UACE,mBAAGA,UAAU,aAAb,oBACA,sBAAKA,UAAU,cAAf,UACE,mBAAGA,UAAU,iDACb,mBAAGA,UAAU,cAAb,qBAEF,sBAAKA,UAAU,cAAf,UACE,mBAAGA,UAAU,sCACb,mBAAGA,UAAU,cAAb,4BAGJ,qBAAKA,UAAU,kBAAkBa,QAjFvC,WACEC,cACClB,MAAK,SAAAC,GACJkB,aAAaC,WAAW,eACxBhC,EAASiC,aAAS,IAClB/B,EAAQgC,KAAK,cA4EX,SACE,sBAAKlB,UAAU,SAAf,UACE,mBAAGA,UAAU,8CACb,mBAAGA,UAAU,cAAb","file":"static/js/26.450a7a6d.chunk.js","sourcesContent":["import { useHistory } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport { storeUser, getUser } from \"@/reducers/rider/reducers\"\nimport { profile, logout} from \"@/api/rider/index\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Avatar, Layout, Skeleton } from \"antd\";\nimport { useEffect, useState } from \"react\";\nimport { setToken } from \"@/reducers/rider/reducers\"\n\nconst ProfilePage = () => {\n  const { Content } = Layout;\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const userSelector = useSelector(getUser);\n  const [loader, setLoader] = useState(true);\n\n  useEffect(() => {    \n    if(userSelector === null ){\n      profile()\n      .then(res => {\n        dispatch(storeUser(res.data));\n        setLoader(false)\n      })\n    }else{\n      setLoader(false)\n    }\n\n  }, [dispatch, userSelector])\n\n  function logoutRider() {\n    logout()\n    .then(res => {\n      localStorage.removeItem('_riderToken');\n      dispatch(setToken(false))\n      history.push('/login')\n    })\n  }\n\n  if(loader) { return <Content\n    className=\"site-layout\"\n    style={{\n      padding: \"0 14px\",\n      marginTop: 60,\n    }}\n  > <Skeleton active/></Content> }\n  \n  return (\n    <Layout>\n      <Content \n       className=\"site-layout\"\n       style={{\n         padding: \"0 14px\",\n        //  marginTop: 67,\n       }}\n      >\n        <div className=\"profile-nav d-flex my-3\">\n          <div className=\"d-flex position-relative fa-xs my-2\">\n            <Avatar\n              size={40}\n              style={{\n                color: \"#f56a00\",\n                backgroundColor: \"#fde3cf\",\n              }}\n            >\n            {userSelector.first_name.charAt(0)}{userSelector.last_name.charAt(0)}\n            </Avatar>\n            <div className=\"pl-2 my-auto\">\n              <p className=\"font-14 f-w-500\">{userSelector.first_name} {userSelector.last_name}</p>\n              <p className=\"faded-text-sm pt-1\"> {userSelector.phone}</p>\n            </div>\n            <i className=\"fas fa-check-circle text-green\"></i>\n          </div>\n        </div>\n        <Link to=\"/profile-edit\">\n          <div className=\"white-card my-2\">\n            <p className=\"heading-sm\">ACCOUNT</p>\n            <div className=\"d-flex mt-2\">\n              <i className=\"fas fa-user text-red my-auto mr-2\" />\n              <p className=\"text-normal\">Profile</p>\n            </div>\n          </div>\n        </Link>\n        <Link to=\"/document\">\n          <div className=\"white-card my-2\">\n            <p className=\"heading-sm\">DOCUMENTS</p>\n            <div className=\"d-flex mt-2\">\n              <i className=\"fas fa-file-alt text-red my-auto mr-2\" />\n              <p className=\"text-normal\">Documents</p>\n            </div>\n          </div>\n        </Link>\n\n        <div className=\"white-card my-2\">\n          <p className=\"heading-sm\">OFFERS</p>\n          <div className=\"d-flex mt-2\">\n            <i className=\"fas fa-tag text-red my-auto mr-2 fa-sm\" />\n            <p className=\"text-normal\">Get Discounts</p>\n          </div>\n        </div>\n        <div className=\"white-card my-2\">\n          <p className=\"heading-sm\">OTHERS</p>\n          <div className=\"d-flex mt-2\">\n            <i className=\"fas fa-question-circle text-red my-auto mr-2\" />\n            <p className=\"text-normal\">Help</p>\n          </div>\n          <div className=\"d-flex mt-2\">\n            <i className=\"fas fa-lock text-red my-auto mr-2\" />\n            <p className=\"text-normal\">Policies</p>\n          </div>\n        </div>\n        <div className=\"white-card my-2\" onClick={logoutRider}>\n          <div className=\"d-flex\">\n            <i className=\"fas fa-sign-out-alt text-red my-auto mr-2\" />\n            <p className=\"text-normal\">Log out</p>\n          </div>\n        </div>\n      </Content>\n    </Layout>\n  );\n};\n\nexport default ProfilePage;\n"],"sourceRoot":""}